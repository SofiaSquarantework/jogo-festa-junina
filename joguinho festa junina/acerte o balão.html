<html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festa Junina: Acerte o Bal√£o!</title>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <style>
      
        :root {
            --color-primary: #d14900; /* Laranja forte - Usado para t√≠tulos, bordas principais e destaques */
            --color-secondary: #5a3e2b; /* Marrom escuro - Ideal para texto principal e bordas internas */
            --color-background-light: #ffe4b5; /* Bege claro - Usado para pain√©is e fundos de listas (como o ranking) */
            --color-background-medium: #deb887; /* Marrom claro - Fundo da grade onde os bal√µes aparecem */
            --color-background-dark: #8b4513; /* Marrom m√©dio - Fundo do container principal do jogo */
            --color-wood-border: #a0522d; /* Marrom madeira - Para bordas que simulam madeira */
            --color-hole-background: #69442b; /* Marrom buraco - Fundo dos "buracos" onde os bal√µes surgem */

            /* Cores espec√≠ficas para os bal√µes, vibrantes e distintas. */
            --balao-red: #E74C3C; /* Vermelho vibrante */
            --balao-blue: #3498DB; /* Azul celeste */
            --balao-green: #2ECC71; /* Verde esmeralda */
            --balao-yellow: #F1C40F; /* Amarelo ensolarado */
            --balao-purple: #9B59B6; /* Roxo vibrante */

            /* Cores para os bot√µes, com varia√ß√µes para o efeito de hover. */
            --button-start: #32cd32; /* Verde para o bot√£o "Come√ßar" */
            --button-start-hover: #28a745; /* Verde mais escuro no hover */
            --button-clear: #e74c3c; /* Vermelho para o bot√£o "Limpar ranking" */
            --button-clear-hover: #c0392b; /* Vermelho mais escuro no hover */
        }

        /* Aplica box-sizing: border-box para todos os elementos, garantindo que padding e border sejam inclu√≠dos na largura/altura total. */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        /* Estilos aplicados ao corpo da p√°gina (body) */
        body {
            font-family: 'Bangers', cursive; /* Define a fonte principal para o corpo */
            position: relative; /* Necess√°rio para posicionar os pseudo-elementos e o parallax */
            min-height: 100vh; /* Garante que o corpo ocupe pelo menos 100% da altura da viewport */
            margin: 0; /* Remove margem padr√£o do navegador */
            overflow: hidden; /* Evita barras de rolagem indesejadas, √∫til para o efeito parallax */
            display: flex; /* Usa flexbox para centralizar e organizar o conte√∫do principal */
            flex-direction: column; /* Organiza os itens em coluna */
            align-items: center; /* Centraliza horizontalmente */
            justify-content: center; /* Centraliza verticalmente */
            padding: 20px 10px; /* Espa√ßamento interno */
            color: var(--color-secondary); /* Cor do texto padr√£o */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); /* Sombra para o texto para melhor legibilidade */
            z-index: 0; /* Define a ordem de empilhamento (para o efeito parallax) */

            /* Camada de fundo mais "distante" para o efeito parallax. */
            background-image: url('https://static.vecteezy.com/system/resources/previews/002/187/217/large_2x/festa-junina-with-yellow-background-free-vector.jpg');
            background-size: 120% 120%; /* Amplia a imagem para permitir movimento sem mostrar bordas */
            background-position: center center; /* Centraliza a imagem */
            background-repeat: no-repeat; /* Evita repeti√ß√£o da imagem */
            animation: panBackgroundSlow 40s linear infinite alternate; /* Anima√ß√£o de movimento lento para criar profundidade */
        }

        /* Pseudo-elemento ::before para criar uma segunda camada de fundo para o efeito parallax. */
        body::before {
            content: ''; /* Conte√∫do vazio, pois √© um elemento decorativo */
            position: fixed; /* Fixa o pseudo-elemento na viewport para que ele n√£o role com o conte√∫do */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://static.vecteezy.com/system/resources/previews/002/187/217/large_2x/festa-junina-with-yellow-background-free-vector.jpg'); /* Mesma imagem de fundo, mas com propriedades diferentes */
            background-size: 140% 140%; /* Ainda mais ampliada que o background do body, para um movimento mais r√°pido */
            background-position: center center;
            background-repeat: no-repeat;
            animation: panBackgroundFast 30s linear infinite alternate; /* Anima√ß√£o mais r√°pida para simular proximidade */
            z-index: -1; /* Posiciona-o abaixo do conte√∫do do body, mas acima do background do body (que tem z-index: 0) */
            opacity: 0.2; /* Torna-o sutil e sem distra√ß√µes */
            filter: brightness(0.8) blur(1px); /* Suaviza e esmaece um pouco a imagem */
        }

        /* --- T√≠tulo Principal (h1) --- */
        h1 {
            color: var(--color-primary); /* Cor prim√°ria definida nas vari√°veis */
            text-shadow: 4px 4px 6px rgba(0,0,0,0.4), 0 0 10px var(--balao-yellow); /* Sombra para profundidade e brilho sutil com a cor do bal√£o amarelo */
            margin-bottom: 1.5em; /* Margem inferior */
            font-size: clamp(2.5em, 8vw, 4.5em); /* Tamanho de fonte responsivo: m√≠nimo de 2.5em, ideal de 8% da largura da viewport, m√°ximo de 4.5em */
            letter-spacing: 2px; /* Espa√ßamento entre as letras */
            animation: bounceIn 1s ease-out; /* Anima√ß√£o de entrada com efeito de "bounce" */
            text-align: center; /* Centraliza o texto */
            position: relative; /* Necess√°rio para z-index */
            z-index: 3; /* Garante que o t√≠tulo apare√ßa acima das camadas de fundo */
        }

        /* --- Container Principal do Jogo --- */
        .game-container {
            width: 95%; /* Largura responsiva */
            max-width: 700px; /* Largura m√°xima para controle em telas maiores */
            background-color: var(--color-background-dark); /* Cor de fundo escura */
            border: 15px solid var(--color-wood-border); /* Borda grossa estilo madeira */
            border-radius: 20px; /* Cantos arredondados */
            padding: 30px; /* Espa√ßamento interno */
            box-shadow: 8px 8px 20px rgba(0,0,0,0.6), inset 0 0 15px rgba(0,0,0,0.4); /* Sombra externa e interna para dar volume */
            position: relative; /* Necess√°rio para posicionamento de elementos filhos */
            background-image: url('https://th.bing.com/th/id/OIP.TpddJO9ai279e3y66WYaZgHaEv?rs=1&pid=ImgDetMain'); /* Imagem de fundo dentro do container (fogueira, etc.) */
            background-size: cover; /* Cobre todo o container */
            background-position: center; /* Centraliza a imagem */
            background-blend-mode: multiply; /* Mistura a cor de fundo com a imagem, escurecendo-a */
            filter: brightness(0.9); /* Escurece um pouco a imagem para o conte√∫do se destacar */
            z-index: 2; /* Fica acima das camadas de fundo, mas abaixo do overlay */
        }

        /* --- Grade dos Buracos (onde os bal√µes aparecem) --- */
        .grid {
            display: grid; /* Usa CSS Grid para criar uma grade flex√≠vel */
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* Colunas que se ajustam automaticamente, com largura m√≠nima de 120px e m√°xima de 1fr (distribui√ß√£o igual) */
            gap: 20px; /* Espa√ßamento entre os itens da grade */
            padding: 20px; /* Espa√ßamento interno da grade */
            background-color: var(--color-background-medium); /* Cor de fundo da grade */
            border-radius: 15px; /* Cantos arredondados */
            border: 5px dashed var(--color-primary); /* Borda tracejada com a cor prim√°ria */
            justify-content: center; /* Centraliza os itens da grade se n√£o preencherem todo o espa√ßo */
            /* Efeito de textura sutil para dar um visual mais r√∫stico. */
            background-image: radial-gradient(circle at 10% 20%, rgba(0,0,0,0.05) 0%, transparent 50%),
                               linear-gradient(135deg, rgba(0,0,0,0.03) 0%, transparent 100%);
            box-shadow: inset 0 0 15px rgba(0,0,0,0.3); /* Sombra interna para profundidade */
        }

        /* --- Buracos (Holes) individuais --- */
        .hole {
            width: 100%; /* Ocupa 100% da largura da c√©lula da grid */
            padding-bottom: 100%; /* Usa padding-bottom para manter a propor√ß√£o 1:1 (c√≠rculo perfeito) */
            height: 0; /* Define a altura como 0 para que o padding-bottom controle o tamanho */
            background: radial-gradient(circle at 50% 50%, var(--color-hole-background) 0%, #4a2f1c 80%); /* Gradiente radial para simular profundidade de um buraco */
            border-radius: 50%; /* Transforma o div em um c√≠rculo */
            display: flex; /* Usa flexbox para posicionar o bal√£o dentro */
            align-items: flex-end; /* Alinha o bal√£o na parte inferior do buraco */
            justify-content: center; /* Centraliza o bal√£o horizontalmente */
            overflow: hidden; /* Garante que o bal√£o n√£o "saia" do buraco quando est√° na transi√ß√£o inicial */
            cursor: pointer; /* Muda o cursor para indicar que √© clic√°vel */
            position: relative; /* Necess√°rio para posicionar o bal√£o absolutamente dentro */
            box-shadow: inset 5px 5px 15px rgba(0,0,0,0.7), 0 0 15px rgba(0,0,0,0.3); /* Sombra interna para aprofundar o buraco e externa para o relevo */
            border: 3px solid var(--color-secondary); /* Borda do buraco */
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Efeito de "bounce" (saltar) na transi√ß√£o de transforma√ß√£o */
        }

        /* Efeito ao passar o mouse sobre o buraco */
        .hole:hover {
            transform: scale(1.08); /* Aumenta um pouco mais no hover para um efeito mais dram√°tico */
            box-shadow: inset 5px 5px 15px rgba(0,0,0,0.7), 0 0 25px rgba(0,0,0,0.5); /* Sombra mais intensa no hover */
        }

        /* --- Bal√µes (Balao) --- */
        .balao {
            --balao-size: 100px; /* Vari√°vel CSS local para o tamanho do bal√£o */
            width: var(--balao-size);
            height: var(--balao-size);
            background-color: var(--balao-red); /* Cor de fundo padr√£o do bal√£o (vermelho, ser√° sobrescrito pelo JS) */
            border-radius: 50%; /* Transforma o div em um c√≠rculo */
            position: absolute; /* Posiciona o bal√£o absolutamente dentro do buraco */
            bottom: calc(-1 * var(--balao-size) - 10px); /* Come√ßa abaixo do buraco, "escondido" */
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Transi√ß√£o com fun√ß√£o de temporiza√ß√£o el√°stica para o efeito de "subir" */
            cursor: pointer; /* Indica que o bal√£o √© clic√°vel */
            box-shadow: 5px 5px 15px rgba(0,0,0,0.4), inset -3px -3px 8px rgba(255,255,255,0.3); /* Sombra e brilho internos para dar volume ao bal√£o */
            display: flex; /* Para centralizar o n√∫mero de pontos dentro do bal√£o */
            align-items: center; /* Centraliza verticalmente */
            justify-content: center; /* Centraliza horizontalmente */
            font-size: 3.5em; /* Tamanho da fonte para o n√∫mero de pontos */
            color: white; /* Cor do texto do n√∫mero */
            text-shadow: 2px 2px 3px rgba(0,0,0,0.5); /* Sombra para o n√∫mero */
            animation: float 2s infinite alternate ease-in-out; /* Anima√ß√£o de flutua√ß√£o suave */
            transform: scale(0.8); /* Inicia um pouco menor para um efeito de "surgir" */
            user-select: none; /* Impede que o texto dentro do bal√£o seja selecionado */
            font-weight: bold; /* Deixa o texto em negrito */
            will-change: transform, bottom, opacity; /* Sugest√£o para o navegador otimizar anima√ß√µes nessas propriedades */
        }

        /* Classe '.up' adicionada via JavaScript quando o bal√£o deve "subir" */
        .balao.up {
            bottom: 20px; /* Posi√ß√£o final do bal√£o quando ele est√° "para cima" */
            transform: scale(1); /* Volta ao tamanho normal */
            animation: float 2s infinite alternate ease-in-out, appearScale 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Combina a flutua√ß√£o com uma anima√ß√£o de "aparecer com bounce" */
        }

        /* Pseudo-elemento ::before para criar o bico/tri√¢ngulo do bal√£o */
        .balao::before {
            content: '';
            position: absolute; /* Posicionado absolutamente em rela√ß√£o ao bal√£o */
            top: -15px; /* Acima do bal√£o */
            left: 50%; /* Centralizado horizontalmente */
            transform: translateX(-50%); /* Ajusta para centralizar perfeitamente */
            width: 0;
            height: 0;
            border-left: 12px solid transparent; /* Lado esquerdo do tri√¢ngulo transparente */
            border-right: 12px solid transparent; /* Lado direito do tri√¢ngulo transparente */
            border-bottom: 25px solid; /* Base do tri√¢ngulo, que define a cor */
            filter: brightness(80%); /* Torna o bico ligeiramente mais escuro que o corpo do bal√£o */
        }

        /* Classes de Cores dos Bal√µes - Adicionadas via JavaScript para mudar a cor do bal√£o e do seu bico */
        .balao.red { background-color: var(--balao-red); }
        .balao.red::before { border-bottom-color: var(--balao-red); }
        .balao.blue { background-color: var(--balao-blue); }
        .balao.blue::before { border-bottom-color: var(--balao-blue); }
        .balao.green { background-color: var(--balao-green); }
        .balao.green::before { border-bottom-color: var(--balao-green); }
        .balao.yellow { background-color: var(--balao-yellow); }
        .balao.yellow::before { border-bottom-color: var(--balao-yellow); }
        .balao.purple { background-color: var(--balao-purple); }
        .balao.purple::before { border-bottom-color: var(--balao-purple); }

        /* Efeito de "estouro" do bal√£o - Adicionado via JavaScript ap√≥s o clique */
        .balao.bonked {
            animation: bonkEffect 0.3s ease-out forwards; /* Anima√ß√£o de estouro, 'forwards' mant√©m o estado final (sumir) */
            pointer-events: none; /* Impede que o bal√£o seja clicado novamente enquanto est√° "estourando" */
        }

        /* --- Placar de Pontua√ß√£o e Tempo --- */
        .score-board {
            background-color: var(--color-background-light); /* Fundo claro */
            border: 5px solid var(--color-primary); /* Borda com a cor prim√°ria */
            border-radius: 15px; /* Cantos arredondados */
            padding: 15px 25px; /* Espa√ßamento interno */
            margin-top: 25px; /* Margem superior */
            margin-bottom: 25px; /* Margem inferior */
            font-size: clamp(1.2em, 4vw, 1.8em); /* Tamanho de fonte responsivo */
            font-weight: bold; /* Negrito */
            color: var(--color-primary); /* Cor do texto */
            display: flex; /* Usa flexbox para alinhar pontua√ß√£o e tempo */
            justify-content: space-around; /* Distribui o espa√ßo igualmente entre os itens */
            align-items: center; /* Centraliza verticalmente */
            width: 95%; /* Largura responsiva */
            max-width: 700px; /* Largura m√°xima */
            box-shadow: 3px 3px 12px rgba(0,0,0,0.3); /* Sombra para dar relevo */
            text-shadow: 1px 1px 2px rgba(255,255,255,0.7); /* Sombra de texto mais suave */
            animation: fadeIn 1s ease-in; /* Anima√ß√£o de aparecimento suave */
            flex-wrap: wrap; /* Permite que os itens quebrem linha em telas menores */
            gap: 10px; /* Espa√ßamento entre os itens flexbox */
            position: relative; /* Necess√°rio para z-index */
            z-index: 3; /* Fica acima das camadas de fundo */
        }

        /* --- Bot√µes Gerais --- */
        .button {
            padding: 18px 35px; /* Espa√ßamento interno */
            font-size: clamp(1.5em, 6vw, 2em); /* Tamanho de fonte responsivo */
            border: none; /* Sem borda padr√£o */
            border-radius: 12px; /* Cantos arredondados */
            cursor: pointer; /* Indica que √© clic√°vel */
            box-shadow: 5px 5px 10px rgba(0,0,0,0.5); /* Sombra para relevo */
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.2s; /* Transi√ß√£o com bounce para transforma√ß√£o e cor de fundo */
            text-transform: uppercase; /* Texto em mai√∫sculas */
            letter-spacing: 1px; /* Espa√ßamento entre letras */
            font-family: 'Bangers', cursive; /* Fonte do jogo */
            outline: none; /* Remove contorno de foco padr√£o */
            text-decoration: none; /* Remove sublinhado */
            display: inline-block; /* Permite definir largura/altura e aplicar padding */
            color: white; /* Cor do texto */
            text-shadow: 2px 2px 3px rgba(0,0,0,0.3); /* Sombra para o texto */
            position: relative; /* Necess√°rio para z-index */
            z-index: 4; /* Fica acima da maioria dos elementos */
            margin-top: 20px; /* Margem superior */
        }

        /* Efeito ao passar o mouse sobre o bot√£o */
        .button:hover {
            transform: scale(1.12); /* Aumenta um pouco mais no hover */
        }

        /* Efeito ao clicar/ativar o bot√£o */
        .button:active {
            transform: scale(0.95); /* Diminui um pouco ao ser clicado */
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5); /* Sombra mais compacta ao clicar */
        }

        /* Cores espec√≠ficas para o bot√£o "Come√ßar" */
        .button.start {
            background-color: var(--button-start);
        }
        .button.start:hover {
            background-color: var(--button-start-hover);
        }

        /* Cores espec√≠ficas para o bot√£o "Limpar Ranking" */
        .button.clear-rank {
            background-color: var(--button-clear);
        }
        .button.clear-rank:hover {
            background-color: var(--button-clear-hover);
        }

        /* --- Mensagens do Jogo (abaixo do placar) --- */
        .message {
            margin-top: 25px; /* Margem superior */
            font-size: clamp(1em, 4vw, 1.5em); /* Tamanho de fonte responsivo */
            color: var(--color-primary); /* Cor do texto */
            font-weight: bold; /* Negrito */
            text-shadow: 1px 1px 2px rgba(255,255,255,0.7); /* Sombra suave */
            animation: fadeIn 1s ease-in; /* Anima√ß√£o de aparecimento */
            text-align: center; /* Centraliza o texto */
            padding: 0 10px; /* Espa√ßamento lateral */
            position: relative; /* Necess√°rio para z-index */
            z-index: 3; /* Fica acima das camadas de fundo */
        }

        /* --- Anima√ß√µes --- */

        /* Anima√ß√£o de flutua√ß√£o para os bal√µes */
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); } /* In√≠cio: sem deslocamento Y, sem rota√ß√£o */
            50% { transform: translateY(-15px) rotate(2deg); } /* Meio: sobe 15px, gira levemente para a direita */
            100% { transform: translateY(0px) rotate(-2deg); } /* Fim: volta √† posi√ß√£o original, gira levemente para a esquerda */
        }

        /* Anima√ß√£o para o bal√£o aparecer com um efeito de escala */
        @keyframes appearScale {
            0% { transform: scale(0.5); opacity: 0; } /* Come√ßa pequeno e transparente */
            80% { transform: scale(1.1); opacity: 1; } /* Cresce um pouco mais que o normal para o efeito "bounce" */
            100% { transform: scale(1); opacity: 1; } /* Volta ao tamanho normal */
        }

        /* Anima√ß√£o de "estouro" do bal√£o */
        @keyframes bonkEffect {
            0% { transform: scale(1) rotate(0deg); opacity: 1; } /* In√≠cio: tamanho normal, opaco */
            50% { transform: scale(1.3) rotate(15deg); opacity: 0.7; } /* Meio: aumenta e gira, fica um pouco transparente */
            100% { transform: scale(0) rotate(30deg); opacity: 0; } /* Fim: encolhe at√© sumir, gira mais */
        }

        /* Anima√ß√£o de entrada para o t√≠tulo principal (efeito de "bounce") */
        @keyframes bounceIn {
            0% { transform: scale(0.5) translateY(-50px); opacity: 0; } /* Come√ßa pequeno, acima e transparente */
            50% { transform: scale(1.15) translateY(0); opacity: 1; } /* Aumenta um pouco mais que o normal e desce */
            70% { transform: scale(0.9); } /* Pequeno recuo */
            100% { transform: scale(1); } /* Volta ao tamanho normal */
        }

        /* Anima√ß√£o de aparecimento suave */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); } /* Inicia transparente e ligeiramente abaixo */
            to { opacity: 1; transform: translateY(0); } /* Termina opaco e na posi√ß√£o normal */
        }

        /* Anima√ß√£o de desaparecimento suave */
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); } /* Inicia opaco e na posi√ß√£o normal */
            to { opacity: 0; transform: translateY(20px); } /* Termina transparente e ligeiramente abaixo */
        }

        /* Anima√ß√£o para os confetes */
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; } /* In√≠cio: na posi√ß√£o, sem rota√ß√£o, tamanho normal */
            50% { opacity: 0.8; } /* Fica ligeiramente transparente no meio */
            100% { transform: translateY(-400px) rotate(720deg) scale(0.2); opacity: 0; } /* Voa para cima, gira, encolhe e some */
        }

        /* Anima√ß√£o para o texto de pontua√ß√£o (+1) */
        @keyframes scorePop {
            0% { transform: translateY(0) scale(0.8); opacity: 1; } /* In√≠cio: na posi√ß√£o, um pouco menor, opaco */
            100% { transform: translateY(-70px) scale(1.5); opacity: 0; } /* Sobe 70px, aumenta, e some */
        }

        /* ANIMA√á√ïES PARA AS CAMADAS DE PARALLAX */
        /* Anima√ß√£o de "pan" (movimento) lento para a camada de fundo mais distante */
        @keyframes panBackgroundSlow {
            0% { background-position: 0% 0%; } /* Come√ßa no canto superior esquerdo */
            100% { background-position: 100% 100%; } /* Termina no canto inferior direito */
        }

        /* Anima√ß√£o de "pan" (movimento) r√°pido para a camada de fundo mais pr√≥xima */
        @keyframes panBackgroundFast {
            0% { background-position: 100% 0%; } /* Come√ßa no canto superior direito */
            100% { background-position: 0% 100%; } /* Termina no canto inferior esquerdo */
        }

        /* --- Estilo dos Confetes --- */
        .confetti {
            position: absolute; /* Posicionado absolutamente na tela */
            width: 10px; /* Tamanho do confete */
            height: 10px;
            border-radius: 50%; /* Transforma em c√≠rculo */
            background-color: #f00; /* Cor padr√£o (ser√° alterada por JS) */
            top: 50%; /* Posi√ß√£o inicial no centro do clique */
            left: 50%;
            transform: translate(-50%, -50%); /* Ajusta para centralizar o confete no ponto de clique */
            animation: confetti 1.2s linear forwards; /* Anima√ß√£o de confete, 'forwards' mant√©m o estado final */
            opacity: 0; /* Inicia invis√≠vel e a anima√ß√£o o faz aparecer e desaparecer */
            z-index: 10; /* Fica acima de quase tudo */
            pointer-events: none; /* N√£o impede cliques em elementos abaixo */
        }

        /* --- Estilo do Texto de Pontua√ß√£o (+1) --- */
        .score-effect {
            position: absolute; /* Posicionado absolutamente na tela */
            font-size: 2.5em; /* Tamanho da fonte para o "+1" */
            font-weight: bold; /* Negrito */
            color: var(--balao-green); /* Cor do texto (verde) */
            text-shadow: 2px 2px 5px rgba(0,0,0,0.7); /* Sombra forte para o texto */
            pointer-events: none; /* N√£o impede cliques em elementos abaixo */
            animation: scorePop 1s ease-out forwards; /* Anima√ß√£o de "pop" para o texto de pontua√ß√£o */
            z-index: 11; /* Fica acima dos confetes */
        }

        /* --- Game Overlay (Tela de In√≠cio/Fim) --- */
        .game-overlay {
            position: fixed; /* Fixo na viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Fundo semi-transparente escuro para cobrir a tela */
            display: flex; /* Usa flexbox para centralizar o conte√∫do */
            flex-direction: column; /* Conte√∫do em coluna */
            justify-content: center; /* Centraliza verticalmente */
            align-items: center; /* Centraliza horizontalmente */
            z-index: 5; /* Fica acima de todos os elementos do jogo */
            opacity: 1; /* Inicia vis√≠vel */
            transition: opacity 0.6s ease-in-out; /* Transi√ß√£o suave para quando for escondido */
            padding: 20px; /* Espa√ßamento interno */
        }

        /* Classe '.hidden' adicionada via JavaScript para esconder o overlay */
        .game-overlay.hidden {
            opacity: 0; /* Torna-o transparente */
            pointer-events: none; /* Desativa a intera√ß√£o com o overlay quando escondido */
        }

        /* Conte√∫do dentro do overlay */
        .overlay-content {
            background-color: var(--color-background-light); /* Fundo claro */
            border: 7px solid var(--color-primary); /* Borda prim√°ria */
            border-radius: 20px; /* Cantos arredondados */
            padding: 30px; /* Espa√ßamento interno */
            text-align: center; /* Centraliza o texto */
            box-shadow: 0 0 30px rgba(0,0,0,0.9); /* Sombra proeminente */
            max-width: 90%; /* Largura m√°xima */
            display: flex; /* Usa flexbox para organizar o conte√∫do */
            flex-direction: column; /* Conte√∫do em coluna */
            align-items: center; /* Centraliza horizontalmente */
            transform: scale(0.9); /* Inicia um pouco menor para o efeito de pop-in */
            animation: overlayPopIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards; /* Anima√ß√£o de "pop-in" ao aparecer */
        }

        /* Anima√ß√£o de "pop-in" para o conte√∫do do overlay */
        @keyframes overlayPopIn {
            0% { transform: scale(0.5); opacity: 0; } /* Come√ßa pequeno e transparente */
            100% { transform: scale(1); opacity: 1; } /* Cresce at√© o tamanho normal e fica opaco */
        }

        /* T√≠tulo dentro do overlay */
        .overlay-content h2 {
            color: var(--color-primary); /* Cor prim√°ria */
            font-size: clamp(2em, 7vw, 3.5em); /* Tamanho de fonte responsivo */
            margin-bottom: 20px; /* Margem inferior */
            text-shadow: 3px 3px 5px rgba(0,0,0,0.3); /* Sombra para o texto */
        }

        /* Par√°grafos dentro do overlay */
        .overlay-content p {
            font-size: clamp(1.1em, 4vw, 1.6em); /* Tamanho de fonte responsivo */
            color: var(--color-secondary); /* Cor secund√°ria */
            margin-bottom: 25px; /* Margem inferior */
            line-height: 1.4; /* Espa√ßamento entre linhas */
        }

        /* --- Estilos para o campo de nome de usu√°rio --- */
        .username-input-group {
            margin-bottom: 20px; /* Margem inferior */
            width: 100%; /* Ocupa toda a largura dispon√≠vel */
            max-width: 300px; /* Largura m√°xima */
        }

        /* R√≥tulo do campo de nome de usu√°rio */
        .username-input-group label {
            display: block; /* Ocupa a pr√≥pria linha */
            margin-bottom: 10px; /* Margem inferior */
            font-size: 1.2em; /* Tamanho da fonte */
            color: var(--color-secondary); /* Cor do texto */
        }

        /* Campo de texto para o nome de usu√°rio */
        .username-input-group input[type="text"] {
            width: 100%; /* Ocupa 100% da largura do seu container */
            padding: 12px 15px; /* Espa√ßamento interno */
            border: 3px solid var(--color-primary); /* Borda com a cor prim√°ria */
            border-radius: 8px; /* Cantos arredondados */
            font-size: 1.1em; /* Tamanho da fonte */
            font-family: 'Bangers', cursive; /* Fonte do jogo */
            background-color: #fff; /* Fundo branco */
            color: var(--color-secondary); /* Cor do texto */
            text-align: center; /* Centraliza o texto digitado */
            outline: none; /* Remove contorno de foco padr√£o */
            box-shadow: inset 0 0 5px rgba(0,0,0,0.2); /* Sombra interna */
            transition: border-color 0.3s, box-shadow 0.3s; /* Transi√ß√£o suave para foco */
        }

        /* Efeito ao focar no campo de texto */
        .username-input-group input[type="text"]:focus {
            border-color: var(--balao-blue); /* Muda a cor da borda */
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3), 0 0 8px var(--balao-blue); /* Adiciona um brilho */
        }

        /* --- Estilos para o Ranking --- */
        .ranking-section {
            margin-top: 30px; /* Margem superior */
            width: 100%; /* Ocupa toda a largura dispon√≠vel */
            max-width: 400px; /* Largura m√°xima */
            background-color: var(--color-background-medium); /* Fundo m√©dio */
            border: 5px solid var(--color-wood-border); /* Borda estilo madeira */
            border-radius: 15px; /* Cantos arredondados */
            padding: 20px; /* Espa√ßamento interno */
            box-shadow: 3px 3px 10px rgba(0,0,0,0.4); /* Sombra para relevo */
        }

        /* T√≠tulo do ranking */
        .ranking-section h3 {
            color: var(--color-primary); /* Cor prim√°ria */
            font-size: clamp(1.5em, 5vw, 2.5em); /* Tamanho de fonte responsivo */
            margin-bottom: 15px; /* Margem inferior */
            text-shadow: 2px 2px 3px rgba(0,0,0,0.3); /* Sombra para o texto */
        }

        /* Lista de ranking */
        .ranking-list {
            list-style: none; /* Remove marcadores de lista padr√£o */
            padding: 0; /* Remove padding padr√£o */
            margin: 0; /* Remove margem padr√£o */
            font-size: clamp(1em, 3.5vw, 1.4em); /* Tamanho de fonte responsivo */
            color: var(--color-secondary); /* Cor do texto */
        }

        /* Cada item da lista de ranking */
        .ranking-list li {
            background-color: var(--color-background-light); /* Fundo claro */
            border: 2px solid var(--color-wood-border); /* Borda estilo madeira */
            border-radius: 8px; /* Cantos arredondados */
            padding: 10px 15px; /* Espa√ßamento interno */
            margin-bottom: 10px; /* Margem inferior entre os itens */
            display: flex; /* Usa flexbox para alinhar nome e pontua√ß√£o */
            justify-content: space-between; /* Distribui o espa√ßo entre nome e pontua√ß√£o */
            align-items: center; /* Centraliza verticalmente */
            box-shadow: 1px 1px 5px rgba(0,0,0,0.2); /* Sombra suave */
            transition: transform 0.2s ease-out; /* Transi√ß√£o para o efeito de hover */
        }

        /* Efeito ao passar o mouse sobre um item do ranking */
        .ranking-list li:hover {
            transform: translateX(5px); /* Move ligeiramente para a direita */
        }

        /* Remove a margem inferior do √∫ltimo item da lista */
        .ranking-list li:last-child {
            margin-bottom: 0;
        }

        /* Estilo para o span que cont√©m o nome/pontua√ß√£o dentro do item da lista */
        .ranking-list li span {
            font-weight: bold; /* Negrito */
            color: var(--color-primary); /* Cor prim√°ria */
        }

        /* --- Media Queries para Responsividade --- */
        /* Ajustes para telas com largura m√°xima de 600px (smartphones e tablets pequenos) */
        @media (max-width: 600px) {
            body {
                padding: 15px 5px; /* Reduz o padding do corpo */
            }

            h1 {
                font-size: clamp(2em, 9vw, 3.5em); /* Ajusta o tamanho do t√≠tulo */
                margin-bottom: 1em;
            }

            .game-container {
                padding: 20px; /* Reduz o padding do container do jogo */
                border-width: 10px; /* Reduz a largura da borda */
            }

            .grid {
                grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); /* Ajusta o tamanho m√≠nimo das colunas da grid */
                gap: 15px; /* Reduz o espa√ßamento da grid */
                padding: 15px; /* Reduz o padding da grid */
            }

            .balao {
                --balao-size: 80px; /* Reduz o tamanho do bal√£o */
                font-size: 3em; /* Ajusta o tamanho da fonte do n√∫mero do bal√£o */
            }

            .score-board {
                font-size: clamp(1em, 4vw, 1.5em); /* Ajusta o tamanho da fonte do placar */
                padding: 12px 15px; /* Reduz o padding do placar */
            }

            .button {
                padding: 15px 30px; /* Reduz o padding dos bot√µes */
                font-size: clamp(1.2em, 5vw, 1.8em); /* Ajusta o tamanho da fonte dos bot√µes */
                margin-top: 20px;
            }

            .message {
                font-size: clamp(0.9em, 3.5vw, 1.2em); /* Ajusta o tamanho da fonte das mensagens */
            }

            .overlay-content h2 {
                font-size: clamp(1.8em, 8vw, 3em); /* Ajusta o tamanho do t√≠tulo do overlay */
            }

            .overlay-content p {
                font-size: clamp(1em, 3.5vw, 1.4em); /* Ajusta o tamanho do par√°grafo do overlay */
            }

            .username-input-group {
                max-width: 250px; /* Reduz a largura m√°xima do campo de nome */
            }

            .ranking-section {
                padding: 15px; /* Reduz o padding da se√ß√£o de ranking */
                max-width: 350px; /* Reduz a largura m√°xima do ranking */
            }
        }

        /* Ajustes para telas com largura m√°xima de 400px (smartphones menores) */
        @media (max-width: 400px) {
            .grid {
                grid-template-columns: repeat(auto-fit, minmax(75px, 1fr)); /* Ajusta ainda mais o tamanho das colunas da grid */
                gap: 8px; /* Reduz mais o espa√ßamento da grid */
                padding: 8px; /* Reduz mais o padding da grid */
            }

            .balao {
                --balao-size: 65px; /* Reduz ainda mais o tamanho do bal√£o */
                font-size: 2.2em; /* Ajusta a fonte do n√∫mero do bal√£o */
            }
        }
    </style>
</head>
<body>
    <h1>Festa Junina: Acerte o Bal√£o!</h1>

    <div class="score-board">
        <div>Pontua√ß√£o: <span id="score">0</span></div> <div>Tempo: <span id="time">30</span>s</div> </div>

    <div class="game-container">
        <div class="grid">
            <div class="hole"><div class="balao" data-index="0"></div></div>
            <div class="hole"><div class="balao" data-index="1"></div></div>
            <div class="hole"><div class="balao" data-index="2"></div></div>
            <div class="hole"><div class="balao" data-index="3"></div></div>
            <div class="hole"><div class="balao" data-index="4"></div></div>
            <div class="hole"><div class="balao" data-index="5"></div></div>
            <div class="hole"><div class="balao" data-index="6"></div></div>
            <div class="hole"><div class="balao" data-index="7"></div></div>
            <div class="hole"><div class="balao" data-index="8"></div></div>
            <div class="hole"><div class="balao" data-index="9"></div></div> 
            <div class="hole"><div class="balao" data-index="10"></div></div> 
            <div class="hole"><div class="balao" data-index="11"></div></div> 
        </div>
    </div>

    <div class="message" id="message"></div>

    <div class="game-overlay" id="gameOverlay">
        <div class="overlay-content">
            <h2 id="overlayTitle">Bem-vindo(a) √† Festa Junina!</h2> <p id="overlayMessage">Acerte os bal√µes que aparecerem na fogueira o mais r√°pido que puder!<br>Cuidado para n√£o deixar nenhum passar!</p> <div class="username-input-group">
                <label for="username">Seu nome de jogador:</label>
                <input type="text" id="username" placeholder="Digite seu nome aqui" maxlength="15"> </div>

            <button id="overlayStartButton" class="button start">Come√ßar Jogo</button> <div class="ranking-section">
                <h3>Melhores Pontua√ß√µes üî•</h3>
                <ul id="rankList" class="ranking-list">
                    </ul>
                <button id="clearRankButton" class="button clear-rank">Limpar Ranking</button> </div>
        </div>
    </div>

    <audio id="bonkSound" src="https://www.myinstants.com/media/sounds/tiro.mp3" preload="auto"></audio> <audio id="gameOverSound" src="https://www.soundjay.com/misc/sounds/fail-trombone-01.mp3" preload="auto"></audio> <audio id="backgroundMusic" src="https://cs53.clideo.com/p/9QQ2yaLxVmZbDNZhYRf3oA/8890e0a993227d4ab8297fc46038f33f/whatsapp-audio-2025-06-30-at-142408-1-tfgslj.mp3" loop preload="auto"></audio> <script>
        // --- Sele√ß√£o de Elementos DOM ---
        // Seleciona todos os elementos com a classe 'balao' (os bal√µes em si).
        const balas = document.querySelectorAll('.balao');
        // Seleciona o span onde a pontua√ß√£o ser√° exibida.
        const scoreDisplay = document.getElementById('score');
        // Seleciona o span onde o tempo restante ser√° exibido.
        const timeDisplay = document.getElementById('time');
        // Seleciona o div onde as mensagens do jogo ser√£o exibidas.
        const messageDisplay = document.getElementById('message');
        // Seleciona o container principal do jogo. Usado para anexar confetes e efeitos de pontua√ß√£o.
        const gameContainer = document.querySelector('.game-container');

        // Seleciona o overlay do jogo (tela de in√≠cio/fim).
        const gameOverlay = document.getElementById('gameOverlay');
        // T√≠tulo dentro do overlay.
        const overlayTitle = document.getElementById('overlayTitle');
        // Mensagem dentro do overlay.
        const overlayMessage = document.getElementById('overlayMessage');
        // Bot√£o "Come√ßar Jogo" dentro do overlay.
        const overlayStartButton = document.getElementById('overlayStartButton');
            
        // Elementos relacionados ao nome de usu√°rio e ranking
        // Campo de input para o nome do jogador.
        const usernameInput = document.getElementById('username');
        // Lista n√£o ordenada onde os rankings ser√£o exibidos.
        const rankList = document.getElementById('rankList');
        // Bot√£o para limpar o ranking.
        const clearRankButton = document.getElementById('clearRankButton');

        // Elementos de √°udio (refer√™ncias aos elementos <audio> no HTML).
        const bonkSound = document.getElementById('bonkSound'); // Som de acerto
        const gameOverSound = document.getElementById('gameOverSound'); // Som de fim de jogo
        const backgroundMusic = document.getElementById('backgroundMusic'); // M√∫sica de fundo

        // --- Vari√°veis de Estado do Jogo ---
        let score = 0; // Pontua√ß√£o atual do jogador.
        let lastBala; // Armazena o √∫ltimo bal√£o que apareceu para evitar repeti√ß√£o imediata.
        let timeUp = false; // Flag que indica se o tempo de jogo acabou.
        let timeLeft = 30; // Tempo inicial do jogo em segundos.
        let timerInterval; // Vari√°vel para armazenar o ID do setInterval do timer.
        let gameActive = false; // Flag que indica se o jogo est√° ativo (em andamento).
        let popUpTimeout; // Vari√°vel para armazenar o ID do setTimeout que faz o bal√£o aparecer. 
        let currentPlayerName = "Convidado"; // Nome padr√£o do jogador antes de ser inserido.
        const MAX_RANK_ENTRIES = 5; // Constante para limitar o n√∫mero de entradas no ranking.
        
        // Cores dos bal√µes que ser√£o alternadas.
        const colors = ['red', 'blue', 'green', 'yellow', 'purple'];
            
        // --- Fun√ß√µes de √Åudio --- 
        /**
         * Toca um elemento de √°udio.
         * Garante que o √°udio seja reiniciado se j√° estiver tocando para m√∫ltiplos cliques r√°pidos.
         * @param {HTMLAudioElement} audioElement - O elemento de √°udio a ser tocado.
         */
        function playSound(audioElement) { 
            if (audioElement) { 
                audioElement.currentTime = 0; // Reinicia o √°udio do come√ßo
                audioElement.play().catch(e => console.log("Erro ao tocar √°udio:", e)); // Tenta tocar e captura erros (ex: autoplay policy)
            } 
        } 

        // --- Fun√ß√µes de Ranking --- 
        /**
         * Obt√©m o ranking salvo no Local Storage e o retorna ordenado por pontua√ß√£o.
         * @returns {Array<Object>} Um array de objetos {name: string, score: number}.
         */
        function getRankings() { 
            // Tenta parsear os dados do Local Storage; se n√£o houver, retorna um array vazio.
            const rankings = JSON.parse(localStorage.getItem('festaJuninaRankings')) || []; 
            // Ordena o ranking em ordem decrescente de pontua√ß√£o (maior primeiro).
            return rankings.sort((a, b) => b.score - a.score); 
        } 

        /**
         * Salva uma nova pontua√ß√£o no ranking e atualiza a exibi√ß√£o.
         * @param {string} name - O nome do jogador.
         * @param {number} score - A pontua√ß√£o alcan√ßada.
         */
        function saveRanking(name, score) { 
            const rankings = getRankings(); // Pega o ranking atual
            rankings.push({ name, score }); // Adiciona a nova entrada
            const sortedRankings = rankings.sort((a, b) => b.score - a.score); // Reordena
            // Limita o n√∫mero de entradas no ranking ao MAX_RANK_ENTRIES
            const topRankings = sortedRankings.slice(0, MAX_RANK_ENTRIES); 
            // Salva o ranking atualizado no Local Storage (converte para string JSON)
            localStorage.setItem('festaJuninaRankings', JSON.stringify(topRankings)); 
            displayRankings(); // Atualiza a lista exibida no overlay
        } 

        /**
         * Exibe o ranking atual no elemento UL com id 'rankList'.
         */
        function displayRankings() { 
            const rankings = getRankings(); // Obt√©m o ranking ordenado
            rankList.innerHTML = ''; // Limpa qualquer conte√∫do existente na lista

            // Se n√£o houver pontua√ß√µes, exibe uma mensagem.
            if (rankings.length === 0) { 
                rankList.innerHTML = '<li>Nenhuma pontua√ß√£o registrada ainda.</li>'; 
                return; 
            } 

            // Itera sobre as entradas do ranking e cria um item de lista para cada uma.
            rankings.forEach((entry, index) => { 
                const li = document.createElement('li'); // Cria um novo elemento <li>
                // Define o conte√∫do HTML do <li> com o nome e a pontua√ß√£o.
                li.innerHTML = `<span>${index + 1}. ${entry.name}</span> <span>${entry.score} pts</span>`; 
                rankList.appendChild(li); // Adiciona o <li> √† lista do ranking
            }); 
        } 

        /**
         * Limpa todo o ranking salvo no Local Storage ap√≥s confirma√ß√£o do usu√°rio.
         */
        function clearRankings() { 
            // Pede confirma√ß√£o ao usu√°rio antes de limpar.
            if (confirm("Tem certeza que deseja limpar todo o ranking?")) { 
                localStorage.removeItem('festaJuninaRankings'); // Remove o item do Local Storage
                displayRankings(); // Atualiza a exibi√ß√£o (mostrar√° a mensagem "Nenhuma pontua√ß√£o registrada...")
            } 
        } 
            
        // --- Fun√ß√µes do Jogo --- 
        /**
         * Gera um tempo aleat√≥rio para o bal√£o aparecer, ajustando a dificuldade conforme o tempo restante.
         * Torna o jogo mais r√°pido (menor tempo de pop-up) √† medida que o tempo diminui.
         * @returns {number} O tempo em milissegundos para o pr√≥ximo bal√£o aparecer.
         */
        function getPopUpTime() { 
            const remainingTime = timeLeft; // Tempo restante no jogo
            let minTime, maxTime; 

            if (remainingTime > 20) {  // Nos primeiros 10 segundos (30 a 21s)
                minTime = 800; maxTime = 1800; // Tempo de pop-up mais lento
            } else if (remainingTime > 10) {  // Nos 10 segundos seguintes (20 a 11s)
                minTime = 600; maxTime = 1400; // Tempo m√©dio de pop-up
            } else {  // Nos √∫ltimos 10 segundos (10s ou menos)
                minTime = 400; maxTime = 1000; // Tempo de pop-up mais r√°pido
            } 
            // Retorna um n√∫mero aleat√≥rio entre minTime e maxTime.
            return Math.round(Math.random() * (maxTime - minTime) + minTime); 
        } 

        /**
         * Seleciona um bal√£o aleat√≥rio da lista de bal√µes dispon√≠veis.
         * Evita que o mesmo bal√£o apare√ßa consecutivamente no mesmo buraco.
         * @param {NodeListOf<Element>} balas - Uma NodeList de todos os elementos bal√£o.
         * @returns {HTMLElement} O elemento bal√£o selecionado.
         */
        function randomBala(balas) { 
            const idx = Math.floor(Math.random() * balas.length); // Gera um √≠ndice aleat√≥rio
            const bala = balas[idx]; // Seleciona o bal√£o pelo √≠ndice
            // Se o bal√£o selecionado for o mesmo que o √∫ltimo OU se houver apenas um bal√£o,
            // chama a fun√ß√£o novamente para tentar outra sele√ß√£o.
            if (bala === lastBala && balas.length > 1) { 
                return randomBala(balas); 
            } 
            lastBala = bala; // Atualiza o √∫ltimo bal√£o que apareceu
            return bala; 
        } 

        /**
         * Faz um bal√£o "aparecer" em um buraco aleat√≥rio.
         * Controla a l√≥gica de aparecimento e desaparecimento dos bal√µes.
         */
        function popUp() { 
            // Se o tempo acabou ou o jogo n√£o est√° ativo, para a fun√ß√£o.
            if (timeUp || !gameActive) { 
                return; 
            } 

            const bala = randomBala(balas); // Seleciona um bal√£o aleat√≥rio

            // Se o bal√£o j√° estiver 'up' (vis√≠vel) ou 'bonked' (estourado), tenta novamente em 100ms.
            if (bala.classList.contains('up') || bala.classList.contains('bonked')) { 
                popUpTimeout = setTimeout(() => popUp(), 100); 
                return; 
            } 

            // Escolhe uma cor aleat√≥ria para o bal√£o.
            const randomColor = colors[Math.floor(Math.random() * colors.length)]; 
            // Gera um valor de pontos aleat√≥rio (1, 2 ou 3) para o bal√£o.
            const currentBalaValue = Math.floor(Math.random() * 3) + 1; 
                
            bala.textContent = currentBalaValue; // Define o n√∫mero de pontos no bal√£o. 
            // Remove todas as classes de cor, 'bonked' e 'burst' para resetar o bal√£o.
            bala.classList.remove(...colors, 'bonked', 'burst'); 
            // Adiciona a nova cor e a classe 'up' para faz√™-lo subir.
            bala.classList.add(randomColor, 'up'); 

            const time = getPopUpTime(); // Obt√©m o tempo que o bal√£o ficar√° vis√≠vel.

            // Define um timer para esconder o bal√£o ap√≥s o tempo definido.
            popUpTimeout = setTimeout(() => { 
                if (bala.classList.contains('up')) {  // Se o bal√£o ainda estiver 'up' (n√£o foi clicado)
                    bala.classList.remove('up'); // Remove a classe 'up' para faz√™-lo descer.
                } 
                // Se o tempo n√£o acabou e o jogo ainda est√° ativo, chama popUp() novamente para o pr√≥ximo bal√£o.
                if (!timeUp && gameActive) { 
                    popUp(); 
                } 
            }, time); 
        } 

        /**
         * Inicia o jogo, resetando pontua√ß√£o, tempo e exibindo o jogo.
         * Valida o nome do jogador antes de come√ßar.
         */
        function startGame() { 
            const name = usernameInput.value.trim(); // Pega o nome digitado e remove espa√ßos em branco.
            // Valida se o nome tem pelo menos 3 caracteres.
            if (name.length < 3) { 
                alert("Por favor, digite um nome de jogador com pelo menos 3 caracteres."); 
                return; // Impede o in√≠cio do jogo.
            } 
            currentPlayerName = name; // Define o nome do jogador atual.

            // Reseta as vari√°veis do jogo
            score = 0; 
            timeLeft = 30; 
            timeUp = false; 
            gameActive = true; 
            scoreDisplay.textContent = score; // Atualiza a exibi√ß√£o da pontua√ß√£o.
            timeDisplay.textContent = timeLeft; // Atualiza a exibi√ß√£o do tempo.
            messageDisplay.textContent = `Boa sorte, ${currentPlayerName}! Acerte os bal√µes! üéâ`; // Exibe mensagem de in√≠cio.

            gameOverlay.classList.add('hidden'); // Esconde o overlay (tela de in√≠cio).

            playSound(backgroundMusic); // Come√ßa a tocar a m√∫sica de fundo.

            // Inicia o contador de tempo.
            timerInterval = setInterval(() => {
                timeLeft--; // Decrementa o tempo.
                timeDisplay.textContent = timeLeft; // Atualiza a exibi√ß√£o do tempo.
                if (timeLeft <= 0) { // Se o tempo chegar a 0
                    clearInterval(timerInterval); // Para o contador de tempo.
                    timeUp = true; // Define a flag de tempo esgotado.
                    gameActive = false; // Desativa o jogo.
                    messageDisplay.textContent = `Tempo esgotado, ${currentPlayerName}! Sua pontua√ß√£o final √©: ${score}!`; // Mensagem de fim de jogo.
                    gameOver(); // Chama a fun√ß√£o de fim de jogo.
                }
            }, 1000); // Executa a cada 1 segundo (1000ms).

            popUp(); // Inicia o ciclo de aparecimento dos bal√µes.
        }

        /**
         * Fun√ß√£o chamada quando um bal√£o √© clicado (bonked).
         * Calcula a pontua√ß√£o e aplica efeitos visuais.
         * @param {Event} e - O evento de clique.
         */
        function bonk(e) {
            // Se o jogo n√£o estiver ativo ou o clique n√£o foi em um bal√£o, ignora.
            if (!gameActive || !e.target.classList.contains('balao')) return;

            playSound(bonkSound); // Toca o som de acerto.

            const clickedBala = e.target; // O bal√£o que foi clicado.
            // Garante que s√≥ se pode clicar em bal√µes que est√£o "para cima".
            if (!clickedBala.classList.contains('up')) return; 

            // Pega o valor de pontos do texto do bal√£o e converte para n√∫mero.
            const points = parseInt(clickedBala.textContent);
            score += points; // Adiciona os pontos √† pontua√ß√£o total.
            scoreDisplay.textContent = score; // Atualiza o placar.
            
            // Efeito visual de estouro e pontos:
            clickedBala.classList.remove('up'); // Faz o bal√£o "descer" ou desaparecer do buraco.
            clickedBala.classList.add('bonked'); // Adiciona a classe 'bonked' para ativar a anima√ß√£o de estouro.
            
            // Cria um efeito de texto (+pontos) no local do clique.
            createScoreEffect(e.clientX, e.clientY, points);
            // Cria confetes no local do clique, usando a cor do bal√£o.
            createConfetti(e.clientX, e.clientY, clickedBala.style.backgroundColor); // Passa a cor do bal√£o

            // Remove o bal√£o 'bonked' ap√≥s a anima√ß√£o para que ele possa ser reutilizado
            clickedBala.addEventListener('animationend', function handler() {
                clickedBala.classList.remove('bonked');
                clickedBala.removeEventListener('animationend', handler); // Remove o listener ap√≥s a execu√ß√£o
            }, { once: true }); // Garante que o evento seja removido ap√≥s ser disparado uma vez
        }

        /**
         * Gerencia o fim do jogo.
         * Para a m√∫sica, toca som de fim de jogo, salva a pontua√ß√£o e exibe o overlay final.
         */
        function gameOver() {
            backgroundMusic.pause(); // Pausa a m√∫sica de fundo.
            backgroundMusic.currentTime = 0; // Reinicia a m√∫sica para o pr√≥ximo jogo.
            playSound(gameOverSound); // Toca o som de fim de jogo.

            clearTimeout(popUpTimeout); // Limpa qualquer timeout de pop-up pendente.
            balas.forEach(bala => {
                bala.classList.remove('up', 'bonked', ...colors); // Remove classes de todos os bal√µes.
                bala.textContent = ''; // Limpa o texto dos bal√µes.
            });

            // Atualiza o overlay para exibir o resultado final.
            overlayTitle.textContent = "Fim de Jogo!";
            overlayMessage.innerHTML = `Sua pontua√ß√£o final √©: <span style="color: var(--color-primary); font-weight: bold;">${score} pontos</span>.<br>Parab√©ns, ${currentPlayerName}! Tente novamente para um novo recorde!`;
            overlayStartButton.textContent = "Jogar Novamente"; // Muda o texto do bot√£o.
            gameOverlay.classList.remove('hidden'); // Mostra o overlay.
            saveRanking(currentPlayerName, score); // Salva a pontua√ß√£o no ranking.
        }

        /**
         * Cria um pequeno texto de pontua√ß√£o (+1, +2, etc.) que flutua e desaparece.
         * @param {number} x - Coordenada X do clique.
         * @param {number} y - Coordenada Y do clique.
         * @param {number} points - Os pontos ganhos.
         */
        function createScoreEffect(x, y, points) {
            const scoreEffect = document.createElement('div'); // Cria um novo elemento div.
            scoreEffect.classList.add('score-effect'); // Adiciona a classe de estilo.
            scoreEffect.textContent = `+${points}`; // Define o texto (ex: "+1").
            scoreEffect.style.left = `${x}px`; // Posi√ß√£o X baseada no clique.
            scoreEffect.style.top = `${y}px`; // Posi√ß√£o Y baseada no clique.
            gameContainer.appendChild(scoreEffect); // Adiciona ao container do jogo.

            // Remove o elemento ap√≥s a anima√ß√£o.
            scoreEffect.addEventListener('animationend', () => {
                scoreEffect.remove();
            });
        }

        /**
         * Cria m√∫ltiplos confetes que voam para cima e desaparecem.
         * @param {number} x - Coordenada X do clique.
         * @param {number} y - Coordenada Y do clique.
         * @param {string} color - A cor dos confetes.
         */
        function createConfetti(x, y, color) {
            const numConfetti = 10; // N√∫mero de confetes a serem criados.
            for (let i = 0; i < numConfetti; i++) {
                const confetti = document.createElement('div'); // Cria um novo div para cada confete.
                confetti.classList.add('confetti'); // Adiciona a classe de estilo.
                confetti.style.left = `${x + (Math.random() - 0.5) * 40}px`; // Posi√ß√£o X aleat√≥ria ao redor do clique.
                confetti.style.top = `${y + (Math.random() - 0.5) * 40}px`; // Posi√ß√£o Y aleat√≥ria ao redor do clique.
                confetti.style.backgroundColor = color; // Define a cor do confete.
                // Gera um atraso aleat√≥rio para que os confetes n√£o apare√ßam todos ao mesmo tempo.
                confetti.style.animationDelay = `${Math.random() * 0.2}s`;
                gameContainer.appendChild(confetti); // Adiciona ao container do jogo.

                // Remove o confete ap√≥s sua anima√ß√£o.
                confetti.addEventListener('animationend', () => {
                    confetti.remove();
                });
            }
        }

        // --- Event Listeners ---
        // Adiciona um ouvinte de evento para cliques em todo o container do jogo.
        // Isso √© mais eficiente do que adicionar um ouvinte a cada bal√£o individualmente (event delegation).
        gameContainer.addEventListener('click', bonk);

        // Ouve o clique no bot√£o "Come√ßar Jogo" do overlay.
        overlayStartButton.addEventListener('click', startGame);

        // Ouve o clique no bot√£o "Limpar Ranking".
        clearRankButton.addEventListener('click', clearRankings);

        // Quando o DOM estiver completamente carregado, exibe o ranking inicial.
        document.addEventListener('DOMContentLoaded', displayRankings);
    </script>
</body>
</html>